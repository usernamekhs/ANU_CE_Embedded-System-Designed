# 💡 스마트 하이브리드 무드등 (Arduino + Bluetooth + CDS Sensor)

스마트폰 앱을 통해 색상을 자유롭게 제어하는 **"수동 모드"**와,  
CDS(조도) 센서를 이용해 주변이 어두워지면 자동으로 램프가 켜지는 **"자동 모드"**를 모두 갖춘 스마트 무드등입니다.



---

## ✨ 주요 기능

- 📱 **수동 모드**: 스마트폰 앱으로 원하는 RGB 색상(빛의 3원색 조합)을 원격 제어합니다.  
- 🌗 **자동 모드**: CDS 센서가 주변 밝기를 감지하여, 어두워지면 자동으로 켜지고 밝아지면 꺼집니다.  
- 🔄 **모드 전환**: 블루투스 명령으로 "자동" 모드와 "수동" 모드를 실시간으로 전환할 수 있습니다.  

---

## 🛠️ 필요 부품

| 부품명 | 수량 | 비고 |
|:--|:--:|:--|
| 아두이노 Uno (또는 호환 보드) | 1 |  |
| 블루투스 모듈 (HC-05 / HC-06) | 1 |  |
| LED (빨강, 초록, 파랑) | 각 1개 |  |
| CDS 센서 (LDR / 조도 센서) | 1 |  |
| 220Ω 저항 | 3 | 각 LED 보호용 |
| 10kΩ 저항 | 1 | CDS 센서 풀다운용 |
| 브레드보드 & 점퍼선 | 약간 |  |
| 블루투스 시리얼 터미널 앱이 설치된 스마트폰 | 1 | Android / iOS 가능 |

---

## 🔌 회로 연결

### 🔷 블루투스 (SoftwareSerial 사용)
| 블루투스 | 아두이노 |
|:--|:--|
| VCC | 5V |
| GND | GND |
| TXD | D10 (Software RX) |
| RXD | D11 (Software TX) |

### 🔴 LED 연결 (PWM 핀)
| 색상 | (+) 긴 다리 | (-) 짧은 다리 |
|:--|:--|:--|
| 빨강 LED | 220Ω → D9 (PWM) | GND |
| 초록 LED | 220Ω → D6 (PWM) | GND |
| 파랑 LED | 220Ω → D5 (PWM) | GND |

### 🌙 CDS 센서 (풀다운 저항 방식)
- 한쪽 다리 → 5V  
- 다른 쪽 다리 → A0 (아날로그 입력)  
- **A0 → 10kΩ 저항 → GND**

---

## 🤖 작동 원리

프로그램은 `autoMode`라는 **boolean 변수**를 기준으로 작동합니다.

| 모드 | 동작 설명 |
|:--|:--|
| `true` (자동 모드) | A0 핀에서 CDS 센서 값을 읽어 밝기를 판단. 설정된 임계값(lightThreshold)보다 낮으면 LED 켜짐 |
| `false` (수동 모드) | CDS 센서 무시, 블루투스 명령으로 들어온 RGB 값으로 LED 제어 |

---

## 🚀 사용 방법

1. 위의 회로도에 따라 하드웨어를 조립합니다.  
2. 아래 코드를 아두이노 IDE로 업로드합니다.  
3. 스마트폰에서 **HC-05 또는 HC-06** 모듈을 페어링합니다.  
   - 비밀번호: `1234` 또는 `0000`
4. **Bluetooth Serial Terminal** 앱을 열고 연결합니다.
5. 아래 명령어를 전송하여 모드를 제어합니다.

---

## 📱 블루투스 명령어

| 명령어 | 설명 | 예시 |
|:--|:--|:--|
| `A` | 자동 모드 전환 | `A` |
| `M` | 수동 모드 전환 | `M` |
| `R[값]` | 빨간색(Red) 밝기 조절 | `R255`, `R100` |
| `G[값]` | 초록색(Green) 밝기 조절 | `G50` |
| `B[값]` | 파란색(Blue) 밝기 조절 | `B200` |
| `OFF` | 모든 LED 끄기 | `OFF` |

---

### 🎨 색상 예시
보라색 만들기  
