#국립 안동대학교 임베디드 소프트웨어 설계과제 
💡 스마트 하이브리드 무드등 (아두이노 + 블루투스 + CDS)

스마트폰 앱을 통해 색상을 자유롭게 제어하는 "수동 모드"와, CDS(조도) 센서를 이용해 주변이 어두워지면 자동으로 램프가 켜지는 "자동 모드"를 모두 갖춘 스마트 무드등입니다.


✨ 주요 기능

📱 수동 모드: 스마트폰 앱으로 원하는 RGB 색상(빛의 3원색 조합)을 원격 제어합니다.

🌗 자동 모드: CDS 센서가 주변 밝기를 감지하여, 어두워지면 자동으로 켜지고 밝아지면 꺼집니다.

🔄 모드 전환: 블루투스 명령으로 "자동" 모드와 "수동" 모드를 실시간으로 전환할 수 있습니다.

🛠️ 필요 부품 (수정됨)

아두이노 Uno (또는 호환 보드)

블루투스 모듈 (HC-05 또는 HC-06)

LED (빨간색) 1개

LED (초록색) 1개

LED (파란색) 1개

CDS 센서 (LDR / 조도 센서) 1개

220Ω 저항 3개 (각 LED 보호용)

10kΩ 저항 1개 (CDS 센서 풀다운 저항용)

브레드보드 & 점퍼선

블루투스 시리얼 터미널 앱이 설치된 스마트폰

🔌 회로 연결 (수정됨)

블루투스 (SoftwareSerial 사용):

VCC → 아두이노 5V

GND → 아두이노 GND

TXD → 아두이노 D10 (Software RX)

RXD → 아두이노 D11 (Software TX)

개별 LED (빨강, 초록, 파랑):

[빨간색 LED] (+) 긴 다리 → 220Ω 저항 → 아두이노 D9 (PWM ~)

[빨간색 LED] (-) 짧은 다리 → GND

[초록색 LED] (+) 긴 다리 → 220Ω 저항 → 아두이노 D6 (PWM ~)

[초록색 LED] (-) 짧은 다리 → GND

[파란색 LED] (+) 긴 다리 → 220Ω 저항 → 아두이노 D5 (PWM ~)

[파란색 LED] (-) 짧은 다리 → GND

CDS 센서 (풀다운 저항 방식):

한쪽 다리 → 아두이노 5V

다른 쪽 다리 → 아두이노 A0 (아날로그 입력)

(동시에) A0 핀 → 10kΩ 저항 → 아두이노 GND

🤖 작동 원리

코드는 autoMode라는 하나의 boolean(논리) 변수를 기준으로 작동합니다.

true (자동 모드): A0 핀에서 CDS 센서 값을 계속 읽습니다. 만약 lightLevel 값이 설정한 lightThreshold 값보다 낮아지면(어두워지면) LED가 미리 설정된 색상으로 켜집니다.

false (수동 모드): CDS 센서 값을 무시하고, 오직 블루투스 모듈로 들어오는 색상 명령에만 반응합니다.

🚀 사용 방법

위에 설명된 대로 회로를 조립합니다.

아래의 .ino 코드를 아두이노에 업로드합니다.

스마트폰의 블루투스 설정에서 HC-05 또는 HC-06 모듈을 페어링합니다. (비밀번호는 보통 1234 또는 0000입니다.)

블루투스 시리얼 터미널 앱(예: Serial Bluetooth Terminal)을 열어 페어링된 모듈에 연결합니다.

아래의 명령어를 앱의 터미널 창에 입력하여 전송합니다.

📱 블루투스 명령어

스마트폰의 시리얼 터미널 앱에서 아래의 텍스트를 전송하세요:

A — 자동 모드로 전환합니다.

M — 수동 모드로 전환합니다.

R[값] — 빨간색(Red) 밝기를 조절합니다. (예: R255, R100)

G[값] — 초록색(Green) 밝기를 조절합니다. (예: G50)

B[값] — 파란색(Blue) 밝기를 조절합니다. (예: B200)

OFF — 모든 LED를 끕니다. (R,G,B 값을 0으로 설정)

예시 (보라색 만들기):
M 전송 → R255 전송 → G0 전송 → B255 전송
